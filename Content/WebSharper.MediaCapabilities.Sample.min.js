import { Start as fL } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fM, SetOptional as fN, Lazy as fO, GetOptional as fP, CreateFuncWithArgs as fQ, DeleteEmptyFields as fR, Create as fS, OnLoad as fT } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fU){ return"Dispose"in fU;}
function b(){ const fU=new n("New_1");const fV=(fU.h.push(q(fU.k, "checkmedia", () => fU.i, () => { const f1=null;P(M(() => N(s(d()), () => O(null))), null);})),fU);const fW=(fV.h.push(new H("result", c().View)),fV);const fX=r(fW.k, fW.h, []);const fY=new i(fX[1], F(fX[0]));let fZ=(fW.i=fY,fY);const f0=fZ.Doc;u0031("");bi.RunById("main", f0);}
function c(){ return I.resultMessage;}
function d(){ const fU=null;return new Promise((fV) => { let fW;let fX;const fY=globalThis.document.getElementById("result");const fZ=(fW={},fW.type="file",fW.video=(fX={},fX.contentType="video/mp4; codecs=avc1.42E01E",fX.width=1920,fX.height=1080,fX.bitrate=5000000,fX.framerate=30,fX),fW);let f0=new Promise((f1) => { f1(globalThis.navigator.mediaCapabilities.decodingInfo(fZ).then((f2) => { fY.innerHTML="\u2705 Supported: "+String(f2.supported)+"<br>\u2705 Smooth: "+String(f2.smooth)+"<br>\u2705 Power Efficient: "+String(f2.powerEfficient);return Promise.resolve(null);}));})["catch"]((f1) => { const f2=t(f1);c().Set("\u274c Error: "+String(f2.message));return Promise.resolve(null);});fV(f0);});}
function e(fU){ throw new Error(fU);}
function f(fU){ return[fU.K, fU.V];}
function g(fU, fV){ const fW=1+fV-fU;return fW<=0?[]:bB(fW, (fX) => fX+fU);}
class h { Equals(fU){ return this===fU;} GetHashCode(){ return -1;} }
class i extends h { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fU){ this.anchorRoot=fU;} constructor(fU, fV){ super();this.doc=fV;this.allVars=fU.$==0?fU.$0:e("Should not happen");this.anchorRoot=null;} }
function j(fU, fV){ l(fU, fV);return fU[fV];}
function k(fU, fV, fW){ l(fU, fV);fU[fV]=fW;}
function l(fU, fV){ if(fV<0||fV>=fU.length)e("Index was outside the bounds of the array.");}
function m(fU){ return fU.dims===2?fU.length*fU.length:fU.length;}
class n extends h { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fU){ if(fU=="New_1"){ let fV;super();this.i=null;this.k=(fV=J(),String(fV));this.h=fM([]);fN(this, "s", null);} } }
class o extends h { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fU, fV){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ej("");} }
class p extends h { }
function q(fU, fV, fW, fX){ return new K(fV, (fY) =>(fZ) => { const f0=fW();f0.SetAnchorRoot(fY);return fX({Vars:f0, Anchors:f0, Target:fY, Event:fZ});});}
function r(fU, fV, fW){ const fX=new bj("New_5");const fY=new br("New_3");const fZ=cy(fV);try { while(fZ.MoveNext()){ const f0=fZ.Current;const f1=f0.Name;fY.SAdd(f1);fX.set_Item(f1, f0);} } finally { if(typeof fZ=="object"&&a(fZ))fZ.Dispose();} return[bs(fV, bH((f2) => { const f3=f2[0];const f4=f2[1];const f5=f2[2];if(fY.Contains(f3))return null;else { const f6=f4===0?bW.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:u0030(f5.$0);let f8=bk.Create_1(f7==null?"":f7.$0);return new bX(f3, f8);}):f4===1?bW.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:u0030(f5.$0);let f8=bk.Create_1(f7==null?0:f7.$0);return new bY(f3, f8);}):f4===2?bW.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:u0030(f5.$0);let f8=bk.Create_1(f7==null?false:f7.$0);return new bZ(f3, f8);}):f4===3?bW.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:u0030(f5.$0);let f8=bk.Create_1(f7==null?-8640000000000000:f7.$0);return new b0(f3, f8);}):f4===4?bW.GetOrAddHoleFor(fU, f3, () => new b1(f3, bk.Create_1([]))):f4===5?bW.GetOrAddHoleFor(fU, f3, () => new b2(f3, bk.Create_1(u0030(globalThis.document.querySelector("[ws-dom="+f3+"]"))))):f4===6?bW.GetOrAddHoleFor(fU, f3, () => { const f7=f5==null?null:u0030(f5.$0);let f8=bk.Create_1(f7==null?[]:f7.$0);return new b3(f3, f8);}):e("Invalid value type");fX.set_Item(f3, f6);return u0030(f6);} }, fW)), {$:0, $0:fX}];}
function s(fU){ return R((fV, fW) => { fU.then(fV, (fX) => fW(t(fX)));});}
function t(fU){ return fU instanceof Error?fU:new bp(fU);}
function u(fU, fV){ if(fU===fV)return true;else { const fW=typeof fU;if(fW=="object"){ if(fU===null||fU===void 0||fV===null||fV===void 0||!u(typeof fV, "object"))return false;else if("Equals"in fU)return fU.Equals(fV);else if("Equals"in fV)return false;else if(fU instanceof Array&&fV instanceof Array)return v(fU, fV);else if(fU instanceof Date&&fV instanceof Date)return w(fU, fV);else { const fX=[true];let fY;for(var f0 in fU)if(((f1) => { fX[0]=!fU.hasOwnProperty(f1)||fV.hasOwnProperty(f1)&&u(fU[f1], fV[f1]);return!fX[0];})(f0))break;if(fX[0]){ let fZ;for(var f1 in fV)if(((f2) => { fX[0]=!fV.hasOwnProperty(f2)||fU.hasOwnProperty(f2);return!fX[0];})(f1))break;} return fX[0];} } else return fW=="function"&&("$Func"in fU?fU.$Func===fV.$Func&&fU.$Target===fV.$Target:"$Invokes"in fU&&"$Invokes"in fV&&v(fU.$Invokes, fV.$Invokes));} }
function v(fU, fV){ let fW;let fX;if(m(fU)===m(fV)){ fW=true;fX=0;while(fW&&fX<m(fU)){!u(j(fU, fX), j(fV, fX))?fW=false:void 0;fX=fX+1;} return fW;} else return false;}
function w(fU, fV){ return fU.getTime()===fV.getTime();}
function x(fU){ const fV=typeof fU;return fV=="function"?0:fV=="boolean"?fU?1:0:fV=="number"?fU:fV=="string"?y(fU):fV=="object"?fU==null?0:fU instanceof Array?z(fU):A(fU):0;}
function y(fU){ let fV;if(fU===null)return 0;else { fV=5381;for(let fW=0, fX=fU.length-1;fW<=fX;fW++)fV=B(fV, fU[fW].charCodeAt());return fV;} }
function z(fU){ let fV=-34948909;for(let fW=0, fX=m(fU)-1;fW<=fX;fW++)fV=B(fV, x(j(fU, fW)));return fV;}
function A(fU){ if("GetHashCode"in fU)return fU.GetHashCode();else { const fV=[0];let fW;for(var fX in fU)if(((fY) => { fV[0]=B(B(fV[0], y(fY)), x(fU[fY]));return false;})(fX))break;return fV[0];} }
function B(fU, fV){ return(fU<<5)+fU+fV;}
function C(fU, fV){ if(fU===fV)return 0;else { const fW=typeof fU;switch(fW=="function"?1:fW=="boolean"?2:fW=="number"?2:fW=="string"?2:fW=="object"?3:0){ case 0:return typeof fV=="undefined"?0:-1;case 1:return e("Cannot compare function values.");case 2:return fU<fV?-1:1;case 3:if(fU===null)return -1;else if(fV===null)return 1;else if("CompareTo"in fU)return fU.CompareTo(fV);else if("CompareTo0"in fU)return fU.CompareTo0(fV);else if(fU instanceof Array&&fV instanceof Array)return D(fU, fV);else if(fU instanceof Date&&fV instanceof Date)return E(fU, fV);else { const fX=[0];let fY;for(var f0 in fU)if(((f1) =>!fU.hasOwnProperty(f1)?false:!fV.hasOwnProperty(f1)?(fX[0]=1,true):(fX[0]=C(fU[f1], fV[f1]),fX[0]!==0))(f0))break;if(fX[0]===0){ let fZ;for(var f1 in fV)if(((f2) =>!fV.hasOwnProperty(f2)?false:!fU.hasOwnProperty(f2)&&(fX[0]=-1,true))(f1))break;} return fX[0];} break;} } }
function D(fU, fV){ let fW;let fX;if(m(fU)<m(fV))return -1;else if(m(fU)>m(fV))return 1;else { fW=0;fX=0;while(fW===0&&fX<m(fU)){ fW=C(j(fU, fX), j(fV, fX));fX=fX+1;} return fW;} }
function E(fU, fV){ return C(fU.getTime(), fV.getTime());}
function F(fU){ u0031("index");return fU?u0032("index", u0030("main"), fU):void 0;}
class G extends o { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return ej(this.fillWith);} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class H extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0030(this.fillWith);} get AsChoiceView(){ return ek(this.fillWith);} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
let I=fO((fU) => class fV { static { I=fU(this);} static resultMessage;static { this.resultMessage=bk.Create_1("Click the button to check video playback capabilities.");} });
function J(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fU) => { const fV=Math.random()*16|0;const fW=fU=="x"?fV:fV&3|8;return fW.toString(16);});}
class K extends o { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
function L(fU){ const fV={};const fW=cy(fU);try { while(fW.MoveNext()){ const fX=fW.Current;fV[fX[0]]=fX[1];} } finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} return fV;}
function M(fU){ return(fV) => { try {(fU())(fV);} catch(fW){ fV.k(bm(fW));} };}
function N(fU, fV){ return Q((fW) => { fU(bl((fX) => { if(fX.$==0){ const fY=fX.$0;V().Fork(() => { try {(fV(fY))(fW);} catch(fZ){ fW.k(bm(fZ));} });} else V().Fork(() => { fW.k(fX);});}, fW.ct));});}
function O(fU){ return(fV) => { fV.k(bn(fU));};}
function P(fU, fV){ const fW=(S())[0];const fX=fV==null?fW:fV.$0;if(!fX.c)fU(bl((fY) => { if(fY.$==1)T(fY.$0);}, fX));}
function Q(fU){ return(fV) => { if(fV.ct.c)U(fV);else fU(fV);};}
function R(fU){ return(fV) => { const fW=[false];const fX=(fY) => { if(fW[0])e("A continuation provided by Async.FromContinuations was invoked multiple times");else { fW[0]=true;V().Fork(fY);} };fU((fY) => { fX(() => { fV.k(bn(fY));});}, (fY) => { fX(() => { fV.k(bm(fY));});}, (fY) => { fX(() => { fV.k(bo(fY));});});};}
function S(){ return cw.defCTS;}
function T(fU){ console.log("WebSharper: Uncaught asynchronous exception", fU);}
function U(fU){ fU.k(bo(new c5("New", fU.ct)));}
function V(){ return cw.scheduler;}
function W(){ return cw.Zero;}
function X(fU, fV){ const fW=(S())[0];const fX=fV==null?fW:fV.$0;V().Fork(() => { if(!fX.c)fU(bl((fY) => { if(fY.$==1)T(fY.$0);}, fX));});}
function Y(fU){ let fV=[];let fW;for(var fX in fU)fV.push(fU[fX]);return fV;}
class Z extends h { }
function u0030(fU){ return{$:1, $0:fU};}
function u0031(fU){!u0033()?(u0034(true),u0035(globalThis.document.body, "")):void 0;u0036().set_Item(fU, u0037(""));}
function u0032(fU, fV, fW){ let fX;const fY=(fX=null,[u0037(fU).TryGetValue(fV==null?"":fV.$0, {get:() => fX, set:(fZ) => { fX=fZ;}}), fX]);return fY[0]?u0038(fY[1].cloneNode(true), fW):(console.warn("Local template doesn't exist", fV),bi.Empty);}
function u0033(){ return cD.LocalTemplatesLoaded;}
function u0034(fU){ cD.LocalTemplatesLoaded=fU;}
function u0035(fU, fV){ const fW=u0037(fV);const fX=new bj("New_5");const fY=fU.querySelectorAll("[ws-template]");for(let f_=0, f$=fY.length-1;f_<=f$;f_++){ const fZ=fY[f_];const f0=fZ.getAttribute("ws-template").toLowerCase();fZ.removeAttribute("ws-template");fX.set_Item(f0, u0039(fZ));} const f1=fU.querySelectorAll("[ws-children-template]");for(let ga=0, gb=f1.length-1;ga<=gb;ga++){ const f2=f1[ga];const f3=f2.getAttribute("ws-children-template").toLowerCase();f2.removeAttribute("ws-children-template");fX.set_Item(f3, $(f2));} const f4=fU.querySelectorAll("template[id]");for(let gc=0, gd=f4.length-1;gc<=gd;gc++){ const f5=f4[gc];fX.set_Item(f5.getAttribute("id").toLowerCase(), ba(f5));} const f6=fU.querySelectorAll("template[name]");for(let ge=0, gf=f6.length-1;ge<=gf;ge++){ const f7=f6[ge];fX.set_Item(f7.getAttribute("name").toLowerCase(), ba(f7));} const f8=new br("New_3");function f9(gg){ if(!fW.ContainsKey(gg)){ let gh;const gi=(gh=null,[fX.TryGetValue(gg, {get:() => gh, set:(gj) => { gh=gj;}}), gh]);if(gi[0]){ f8.SAdd(gg);fX.RemoveKey(gg);bb(fV, u0030(gg), gi[1], u0030(f9));} else console.warn(f8.Contains(gg)?"Encountered loop when instantiating "+gg:"Local template does not exist: "+gg);} } while(fX.count>0)f9(bt(fX.Keys));}
function u0036(){ return cD.LoadedTemplates;}
function u0037(fU){ let fV;const fW=(fV=null,[u0036().TryGetValue(fU, {get:() => fV, set:(fY) => { fV=fY;}}), fV]);if(fW[0])return fW[1];else { const fX=new bj("New_5");u0036().set_Item(fU, fX);return fX;} }
function u0038(fU, fV){ let fW;const fX=bc(fU, bs(fV, bd().Values));const fY=fX[1];const fZ=fX[0];const f0=fZ.Els;return!u(f0, null)&&f0.length===1&&(j(f0, 0)instanceof Node&&(u(j(f0, 0).nodeType, Node.ELEMENT_NODE)&&(fW=j(f0, 0),true)))?c7.TreeNode(fZ, fY):bi.Mk(b4(fZ), fY);}
function u0039(fU){ fU.removeAttribute("ws-template");const fV=fU.getAttribute("ws-replace");if(fV==null){ } else { fU.removeAttribute("ws-replace");const fW=fU.parentNode;if(u(fW, null)){ } else { const fX=globalThis.document.createElement(fU.tagName);fX.setAttribute("ws-replace", fV);fW.replaceChild(fX, fU);} } const fY=globalThis.document.createElement("div");fY.appendChild(fU);return fY;}
function $(fU){ const fV=globalThis.document.createElement("div");while(fU.hasChildNodes())fV.appendChild(fU.firstChild);return fV;}
function ba(fU){ const fV=globalThis.document.createElement("div");const fW=fU.content;for(let fX=0, fY=fW.childNodes.length-1;fX<=fY;fX++)fV.appendChild(fW.childNodes[fX].cloneNode(true));return fV;}
function bb(fU, fV, fW, fX){ const fY=new br("New_3");function fZ(f6, f7){ while(true)switch(f6){ case 0:if(f7!==null){ const f8=f7.nextSibling;if(u(f7.nodeType, Node.TEXT_NODE))de(f7);else if(u(f7.nodeType, Node.ELEMENT_NODE))f1(f7);f7=f8;} else return null;break;case 1:const f9=dm(f7.nodeName, u0030(3), null).toLowerCase();const f_=f9.indexOf(".");const f$=f_===-1?[fU, f9]:[dm(f9, null, u0030(f_-1)), dm(f9, u0030(f_+1), null)];const ga=f$[1];const gb=f$[0];if(gb!=""&&!u0036().ContainsKey(gb))return df(ga);else { if(gb==""&&fX!=null)fX.$0(ga);const gc=u0036().Item(gb);if(!gc.ContainsKey(ga))return df(ga);else { const gd=gc.Item(ga);const ge=gd.cloneNode(true);const gf=new br("New_3");const gg=new bj("New_5");const gh=f7.attributes;for(let gr=0, gs=gh.length-1;gr<=gs;gr++){ const gi=gh.item(gr).name.toLowerCase();const gj=gh.item(gr).nodeValue;let gk=gj==""?gi:gj.toLowerCase();gg.set_Item(gi, gk);if(!gf.SAdd(gi))console.warn("Hole mapped twice", gi);} for(let gt=0, gu=f7.childNodes.length-1;gt<=gu;gt++){ const gl=f7.childNodes[gt];if(u(gl.nodeType, Node.ELEMENT_NODE))if(!gf.SAdd(gl.nodeName.toLowerCase()))console.warn("Hole filled twice", ga);} const gm=f7.childNodes.length===1&&u(f7.firstChild.nodeType, Node.TEXT_NODE);if(gm){ const gn=dg(ge, f7.firstChild.textContent, ga);const go=((gv) =>(gw) => gv.SAdd(gw))(gf);let gp=((gv) =>(gw) => { if(gw!=null)gv(gw.$0);})((gv) => { go(gv);});gp(gn);} dh(ge, gf);if(!gm){ for(let gv=0, gw=f7.childNodes.length-1;gv<=gw;gv++){ const gq=f7.childNodes[gv];if(u(gq.nodeType, Node.ELEMENT_NODE))if(gq.hasAttributes())di(ge, gq);else f0(ge, gq);} } dj(ge, gg);dk(ge, f7.parentNode, f7);f7.parentNode.removeChild(f7);return;} } break;} } function f0(f6, f7){ const f8=f7.nodeName.toLowerCase();const f9=(gb, gc) => { if(f8=="title"&&f7.hasChildNodes()){ const gd=dn(f7.textContent);f7.removeChild(f7.firstChild);while(gd.hasChildNodes())f7.appendChild(gd.firstChild);} f1(f7);return dk(f7, gb, gc);};be(f6, "[ws-attr-holes]", (gb) => { const gc=en(gb.getAttribute("ws-attr-holes"), [" "], 1);for(let gg=0, gh=gc.length-1;gg<=gh;gg++){ const gd=j(gc, gg);let ge=new RegExp("\\${"+f8+"}", "ig");let gf=gb.getAttribute(gd).replace(ge, f7.textContent);gb.setAttribute(gd, gf);} });const f_=f6.querySelector("[ws-hole="+f8+"]");if(u(f_, null)){ const f$=f6.querySelector("[ws-replace="+f8+"]");if(u(f$, null)){ const ga=f6.querySelector("slot[name="+f8+"]");return f6.tagName.toLowerCase()=="template"?(f9(ga.parentNode, ga),void ga.parentNode.removeChild(ga)):null;} else { f9(f$.parentNode, f$);f$.parentNode.removeChild(f$);return;} } else { while(f_.hasChildNodes())f_.removeChild(f_.lastChild);f_.removeAttribute("ws-hole");return f9(f_, null);} } function f1(f6){ if(!f6.hasAttribute("ws-preserve"))if(eo(f6.nodeName.toLowerCase(), "ws-"))f3(f6);else { dl(f6);f2(f6.firstChild);} } function f2(f6){ return fZ(0, f6);} function f3(f6){ return fZ(1, f6);} function f4(f6){ while(true){ const f7=f6.querySelector("[ws-template]");if(u(f7, null)){ const f8=f6.querySelector("[ws-children-template]");if(u(f8, null)){ const f9=f6.querySelectorAll("template[id]");for(let gd=1, ge=f9.length-1;gd<=ge;gd++){ const f_=f9[gd];if(fY.Contains(f_)){ } else { bb(fU, u0030(f_.getAttribute("id")), f_, null);fY.SAdd(f_);} } const f$=f6.querySelectorAll("template[name]");for(let gf=1, gg=f$.length-1;gf<=gg;gf++){ const ga=f$[gf];if(fY.Contains(ga)){ } else { bb(fU, u0030(ga.getAttribute("name")), ga, null);fY.SAdd(ga);} } return null;} else { const gb=f8.getAttribute("ws-children-template");f8.removeAttribute("ws-children-template");bb(fU, u0030(gb), f8, null);f6=f6;} } else { const gc=f7.getAttribute("ws-template");(bf(fU, u0030(gc), f7))(null);f6=f6;} } } const f5=(fV==null?"":fV.$0).toLowerCase();u0037(fU).set_Item(f5, fW);if(fW.hasChildNodes()){ f4(fW);f2(fW.firstChild);} }
function bc(fU, fV){ let fW;const fX=[];const fY=[];const fZ=[];const f0=[];const f1=new bj("New_5");const f2=cy(fV);try { while(f2.MoveNext()){ const f3=f2.Current;f1.set_Item(f3.Name, f3);} } finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} let f4=do_1(fU);const f5=(gc, gd) => { const ge=dN(gc, gd);fY.push(dO(ge));fZ.push([gc, ge]);const gf=fP(ge.OnAfterRender);if(gf==null)return null;else { const gg=gf.$0;f0.push(() => { gg(gc);});return;} };const f6=(gc) => { let gd;const ge=(gd=null,[f1.TryGetValue(gc, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(ge[0]){ const gf=ge[1];if(gf instanceof d4)return u0030(gf.Value);else if(gf instanceof G)return u0030(bi.TextNode(gf.Value));else { const gg=gf.ForTextView();return gg==null?null:u0030(bi.TextView(gg.$0));} } else return null;};be(fU, "[ws-hole]", (gc) => { const gd=gc.getAttribute("ws-hole");gc.removeAttribute("ws-hole");while(gc.hasChildNodes())gc.removeChild(gc.lastChild);const ge=f6(gd);if(ge!=null&&ge.$==1){ const gf=ge.$0;cE(gc, gf.docNode);fX.push(cY.New(dP(gc), gf.docNode, null, gc, cZ(), null));fY.push(gf.updates);} });be(fU, "[ws-replace]", (gc) => { const gd=f6(gc.getAttribute("ws-replace"));if(gd!=null&&gd.$==1){ const ge=gd.$0;const gf=gc.parentNode;const gg=globalThis.document.createTextNode("");gf.replaceChild(gg, gc);const gh=cJ(gg, ge.docNode);f4=do_1(fU);const gi=bI((gj) => gc===gj, f4);if(gi==null){ } else k(f4, gi.$0, ge.docNode);fX.push(cY.New(dP(gf), ge.docNode, u0030([gh, gg]), gf, cZ(), null));fY.push(ge.updates);} });let f7=false;be(fU, "slot", (gc) => { const gd=gc.getAttribute("name");const ge=gd==""||gd==null?"default":gd.toLowerCase();if(f7&&ge=="default"||!u(fU.parentElement, null)){ } else { while(gc.hasChildNodes())gc.removeChild(gc.lastChild);if(ge=="default")f7=true;const gf=f6(ge);if(gf!=null&&gf.$==1){ const gg=gf.$0;cE(gc, gg.docNode);fX.push(cY.New(dP(gc), gg.docNode, null, gc, cZ(), null));fY.push(gg.updates);} } });be(fU, "[ws-attr]", (gc) => { let gd;const ge=gc.getAttribute("ws-attr");gc.removeAttribute("ws-attr");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];if(gg instanceof d5)f5(gc, gg.Value);else console.warn("Attribute hole filled with non-attribute data", ge);} });be(fU, "[ws-on]", (gc) => { f5(gc, eg.Concat(bH((gd) => { let ge;const gf=en(gd, [":"], 1);const gg=(ge=null,[f1.TryGetValue(j(gf, 1), {get:() => ge, set:(gi) => { ge=gi;}}), ge]);if(gg[0]){ const gh=gg[1];return gh instanceof d6?u0030(d7(j(gf, 0), gh.Value)):gh instanceof K?u0030(eg.Handler(j(gf, 0), gh.Value)):(console.warn("Event hole on"+j(gf, 0)+" filled with non-event data", j(gf, 1)),null);} else return null;}, en(gc.getAttribute("ws-on"), [" "], 1))));gc.removeAttribute("ws-on");});be(fU, "[ws-onafterrender]", (gc) => { let gd;const ge=gc.getAttribute("ws-onafterrender");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gh) => { gd=gh;}}), gd]);if(gf[0]){ const gg=gf[1];if(gg instanceof eh){ gc.removeAttribute("ws-onafterrender");f5(gc, d8(gg.Value));} else if(gg instanceof ei){ gc.removeAttribute("ws-onafterrender");f5(gc, d8(gg.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", ge);} });be(fU, "[ws-var]", (gc) => { let gd;const ge=gc.getAttribute("ws-var");gc.removeAttribute("ws-var");const gf=(gd=null,[f1.TryGetValue(ge, {get:() => gd, set:(gg) => { gd=gg;}}), gd]);if(gf[0])gf[1].AddAttribute((gg) =>(gh) => f5(gg, gh), gc);});const f8=() => { bg("[ws-dom]", (gc) => { let gd;let ge;let gf;const gg=(gd=null,[f1.TryGetValue(gc.getAttribute("ws-dom").toLowerCase(), {get:() => gd, set:(gk) => { gd=gk;}}), gd]);if(gg[0]){ const gh=gg[1];if(gh instanceof b2){ const gi=gh.Value;gc.removeAttribute("ws-dom");ge=gc;const gj=new MutationObserver((gk, gl) => { bM((gm) => { gm.removedNodes.forEach(fQ((gn) => gn[0]===ge&&gm.addedNodes.length!==1?(gi.SetFinal(null),gl.disconnect()):null), null);}, gk);});if(gc.parentElement!==null)gj.observe(gc.parentElement, (gf={},gf.childList=true,gf));gi.Set(u0030(gc));c9((gk) => { if(gk!=null&&gk.$==1){ const gl=gk.$0;if(ge===gl){ } else { ge.replaceWith(gl);ge=gl;} } else { ge.remove();gj.disconnect();} }, gi.View);} } });};be(fU, "[ws-attr-holes]", (gc) => { const gd=new RegExp(bh(), "g");const ge=en(gc.getAttribute("ws-attr-holes"), [" "], 1);gc.removeAttribute("ws-attr-holes");for(let gf=0, gg=ge.length-1;gf<=gg;gf++)((() => { let gh;const gi=j(ge, gf);const gj=gc.getAttribute(gi);let gk=null;let gl=0;const gm=[];while(gk=gd.exec(gj),gk!==null){ const gn=dm(gj, u0030(gl), u0030(gd.lastIndex-j(gk, 0).length-1));gl=gd.lastIndex;gm.push([gn, j(gk, 1)]);} const go=dm(gj, u0030(gl), null);gd.lastIndex=0;const gp=bN((gu, gv) =>(((gw) => { const gx=gw[0];const gy=gw[1];return(gz) => { let gA;const gB=gz[0];const gC=gz[1];const gD=(gA=null,[f1.TryGetValue(gy, {get:() => gA, set:(gF) => { gA=gF;}}), gA]);const gE=gD[0]?gD[1].AsChoiceView:ej("");return gE.$==1?[gx, el.Cons(gB==""?gE.$0:c_((gF) => gF+gB, gE.$0), gC)]:[gx+gE.$0+gB, gC];};})(gu))(gv), gm, [go, el.Empty]);if(gp[1].$==1){ if(gp[1].$1.$==1){ if(gp[1].$1.$1.$==1){ if(gp[1].$1.$1.$1.$==0){ const gq=gp[0];gh=d9(gi, c$((gu, gv, gw) => gq+gu+gv+gw, gp[1].$0, gp[1].$1.$0, gp[1].$1.$1.$0));} else { const gr=gp[0];gh=d9(gi, c_((gu) => gr+em("", gu), da(gp[1])));} } else { const gs=gp[0];gh=d9(gi, db((gu, gv) => gs+gu+gv, gp[1].$0, gp[1].$1.$0));} } else if(gp[0]=="")gh=d9(gi, gp[1].$0);else { const gt=gp[0];gh=d9(gi, c_((gu) => gt+gu, gp[1].$0));} } else gh=eg.Create(gi, gp[0]);return f5(gc, gh);})());});let f9=f4;const f_=f0.length==0?u0030(() => { f8();}):u0030((gc) => { f8();bM((gd) => { gd(gc);}, f0);});const f$=!u(f4, null)&&f4.length===1&&(j(f4, 0)instanceof Node&&(j(f4, 0)instanceof Element&&(fW=j(f4, 0),true)))?u0030(fW):null;let ga={Els:f9, Dirty:true, Holes:fX, Attrs:fZ, Render:f_?f_.$0:void 0, El:f$?f$.$0:void 0};let gb=fR(ga, ["Render", "El"]);return[gb, eu(c8(), dc, fY)];}
function bd(){ return cD.GlobalHoles;}
function be(fU, fV, fW){ du(fU, fV, (fX) => { if(fX.closest("[ws-preserve]")==null)fW(fX);});}
function bf(fU, fV, fW){ const fX=u0039(fW);return(fY) => { bb(fU, fV, fX, fY);};}
function bg(fU, fV){ dv(fU, (fW) => { if(fW.closest("[ws-preserve]")==null)fV(fW);});}
function bh(){ return cD.TextHoleRE;}
class bi extends h { docNode;updates;static RunById(fU, fV){ const fW=globalThis.document.getElementById(fU);if(u(fW, null))e("invalid id: "+fU);else bi.Run(fW, fV);} static Run(fU, fV){ cE(fU, fV.docNode);bi.RunInPlace(false, fU, fV);} static get Empty(){ return bi.Mk(null, c8());} static RunInPlace(fU, fV, fW){ const fX=cG(fV, fW.docNode);c9(dC()||dJ()?dK(cH(fU, fX, fW.docNode)):() => { cI(fU, fX, fW.docNode);}, fW.updates);} static Mk(fU, fV){ return new bi(fU, fV);} static TextNode(fU){ return bi.Mk(b5(globalThis.document.createTextNode(fU)), c8());} static TextView(fU){ const fV=cR();return bi.Mk(b6(fV), c_((fW) => { cS(fV, fW);}, fU));} constructor(fU, fV){ super();this.docNode=fU;this.updates=fV;} }
class bj extends h { equals;hash;count;data;set_Item(fU, fV){ this.set(fU, fV);} set(fU, fV){ const fW=this.hash(fU);const fX=this.data[fW];if(fX==null){ this.count=this.count+1;this.data[fW]=new Array({K:fU, V:fV});} else { const fY=bI((fZ) => this.equals.apply(null, [(f(fZ))[0], fU]), fX);if(fY==null){ this.count=this.count+1;fX.push({K:fU, V:fV});} else fX[fY.$0]={K:fU, V:fV};} } TryGetValue(fU, fV){ const fW=this.data[this.hash(fU)];if(fW==null)return false;else { const fX=bJ((fY) => { const fZ=f(fY);return this.equals.apply(null, [fZ[0], fU])?u0030(fZ[1]):null;}, fW);return fX!=null&&fX.$==1&&(fV.set(fX.$0),true);} } ContainsKey(fU){ const fV=this.data[this.hash(fU)];return fV==null?false:bK((fW) => this.equals.apply(null, [(f(fW))[0], fU]), fV);} RemoveKey(fU){ return this.remove(fU);} get Keys(){ return new dB(this);} GetEnumerator(){ return cB(bL(Y(this.data)));} get Values(){ return new ey(this);} remove(fU){ const fV=this.hash(fU);const fW=this.data[fV];if(fW==null)return false;else { const fX=bP((fY) =>!this.equals.apply(null, [(f(fY))[0], fU]), fW);return m(fX)<fW.length&&(this.count=this.count-1,this.data[fV]=fX,true);} } Item(fU){ return this.get(fU);} get(fU){ const fV=this.data[this.hash(fU)];return fV==null?cx():bR((fW) => { const fX=f(fW);return this.equals.apply(null, [fX[0], fU])?u0030(fX[1]):null;}, fV);} static New_5(){ return new this("New_5");} static New_6(fU, fV, fW){ return new this("New_6", fU, fV, fW);} constructor(fU, fV, fW, fX){ if(fU=="New_5"){ fU="New_6";fV=[];fW=u;fX=x;} if(fU=="New_6"){ const fY=fV;const fZ=fW;const f0=fX;super();this.equals=fZ;this.hash=f0;this.count=0;this.data=[];const f1=cy(fY);try { while(f1.MoveNext()){ const f2=f1.Current;this.set(f2.K, f2.V);} } finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} } } }
let bk=fO((fU) => class fV extends h { static { bk=fU(this);} static Create_1(fW){ return new b9(false, {s:c2(fW, [])}, fW);} static { } });
function bl(fU, fV){ return{k:fU, ct:fV};}
function bm(fU){ return{$:1, $0:fU};}
function bn(fU){ return{$:0, $0:fU};}
function bo(fU){ return{$:2, $0:fU};}
class bp extends Error { reason;constructor(fU){ super("Promise rejected");this.reason=fU;} }
function bq(fU, fV){ return{c:fU, r:fV};}
class br extends h { equals;hash;data;count;SAdd(fU){ return this.add(fU);} Contains(fU){ const fV=this.data[this.hash(fU)];return fV==null?false:this.arrContains(fU, fV);} add(fU){ const fV=this.hash(fU);const fW=this.data[fV];return fW==null?(this.data[fV]=[fU],this.count=this.count+1,true):this.arrContains(fU, fW)?false:(fW.push(fU),this.count=this.count+1,true);} arrContains(fU, fV){ let fW=true;let fX=0;const fY=fV.length;while(fW&&fX<fY)if(this.equals.apply(null, [fV[fX], fU]))fW=false;else fX=fX+1;return!fW;} GetEnumerator(){ return cy(eQ(this.data));} ExceptWith(fU){ const fV=cy(fU);try { while(fV.MoveNext())this.Remove(fV.Current);} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} } get Count(){ return this.count;} IntersectWith(fU){ const fV=new br("New_4", fU, this.equals, this.hash);const fW=eQ(this.data);for(let fY=0, fZ=fW.length-1;fY<=fZ;fY++){ const fX=fW[fY];if(!fV.Contains(fX))this.Remove(fX);} } Remove(fU){ const fV=this.data[this.hash(fU)];return fV==null?false:this.arrRemove(fU, fV)&&(this.count=this.count-1,true);} CopyTo(fU, fV){ const fW=eQ(this.data);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)k(fU, fX+fV, fW[fX]);} arrRemove(fU, fV){ let fW=true;let fX=0;const fY=fV.length;while(fW&&fX<fY)if(this.equals.apply(null, [fV[fX], fU])){ fV.splice(fX, 1);fW=false;} else fX=fX+1;return!fW;} static New_3(){ return new this("New_3");} static New_4(fU, fV, fW){ return new this("New_4", fU, fV, fW);} static New_2(fU){ return new this("New_2", fU);} constructor(fU, fV, fW, fX){ if(fU=="New_3"){ fU="New_4";fV=[];fW=u;fX=x;} let fY;if(fU=="New_2"){ fY=fV;fU="New_4";fV=fY;fW=u;fX=x;} if(fU=="New_4"){ const fZ=fV;const f0=fW;const f1=fX;super();this.equals=f0;this.hash=f1;this.data=[];this.count=0;const f2=cy(fZ);try { while(f2.MoveNext())this.add(f2.Current);} finally { if(typeof f2=="object"&&a(f2))f2.Dispose();} } } }
function bs(fU, fV){ return{GetEnumerator:() => { const fW=cy(fU);const fX=[true];return new cC(fW, null, (fY) => { if(fY.s.MoveNext()){ fY.c=fY.s.Current;return true;} else { const fZ=fY.s;if(!u(fZ, null))fZ.Dispose();fY.s=null;return fX[0]&&(fX[0]=false,fY.s=cy(fV),fY.s.MoveNext()?(fY.c=fY.s.Current,true):(fY.s.Dispose(),fY.s=null,false));} }, (fY) => { const fZ=fY.s;if(!u(fZ, null))fZ.Dispose();});}};}
function bt(fU){ const fV=cy(fU);try { return fV.MoveNext()?fV.Current:dy();} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bu(fU, fV, fW){ let fX=fV;const fY=cy(fW);try { while(fY.MoveNext())fX=fU(fX, fY.Current);return fX;} finally { if(typeof fY=="object"&&a(fY))fY.Dispose();} }
function bv(fU, fV){ const fW=cy(fV);try { while(fW.MoveNext())fU(fW.Current);} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bw(fU, fV){ return{GetEnumerator:() => { const fW=cy(fV);return new cC(null, null, (fX) => fW.MoveNext()&&(fX.c=fU(fW.Current),true), () => { fW.Dispose();});}};}
function bx(fU){ return{GetEnumerator:() => cy(fU())};}
function by(fU, fV){ return bA(bw(fU, fV));}
function bz(fU){ const fV=cy(fU);try { if(!fV.MoveNext())bC();let fW=fV.Current;while(fV.MoveNext()){ const fX=fV.Current;if(C(fX, fW)===1)fW=fX;} return fW;} finally { if(typeof fV=="object"&&a(fV))fV.Dispose();} }
function bA(fU){ return{GetEnumerator:() => { const fV=cy(fU);function fW(fX){ while(true){ const fY=fX.s;if(u(fY, null)){ if(fV.MoveNext()){ fX.s=cy(fV.Current);fX=fX;} else { fV.Dispose();return false;} } else if(fY.MoveNext()){ fX.c=fY.Current;return true;} else { fX.Dispose();fX.s=null;fX=fX;} } } return new cC(null, null, fW, (fX) => { const fY=fX.s;if(!u(fY, null))fY.Dispose();if(!u(fV, null))fV.Dispose();});}};}
function bB(fU, fV){ return bD(fU, bE(fV));}
function bC(){ return e("The input sequence was empty.");}
function bD(fU, fV){ fU<0?dA():void 0;return{GetEnumerator:() => { const fW=[cy(fV)];return new cC(0, null, (fX) => { fX.s=fX.s+1;if(fX.s>fU)return false;else { const fY=fW[0];return u(fY, null)?dy():fY.MoveNext()?(fX.c=fY.Current,fX.s===fU?(fY.Dispose(),fW[0]=null):void 0,true):(fY.Dispose(),fW[0]=null,dy());} }, () => { const fX=fW[0];if(!u(fX, null))fX.Dispose();});}};}
function bE(fU){ return{GetEnumerator:() => new cC(0, null, (fV) => { fV.c=fU(fV.s);fV.s=fV.s+1;return true;}, void 0)};}
function bF(fU, fV){ return!bG((fW) =>!fU(fW), fV);}
function bG(fU, fV){ const fW=cy(fV);try { let fX=false;while(!fX&&fW.MoveNext())fX=fU(fW.Current);return fX;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} }
function bH(fU, fV){ const fW=[];for(let fY=0, fZ=fV.length-1;fY<=fZ;fY++){ const fX=fU(fV[fY]);if(fX==null){ } else fW.push(fX.$0);} return fW;}
function bI(fU, fV){ let fW=null;let fX=0;while(fX<fV.length&&fW==null){ fU(fV[fX])?fW=u0030(fX):void 0;fX=fX+1;} return fW;}
function bJ(fU, fV){ let fW=null;let fX=0;while(fX<fV.length&&fW==null){ const fY=fU(fV[fX]);if(fY!=null&&fY.$==1)fW=fY;fX=fX+1;} return fW;}
function bK(fU, fV){ let fW=false;let fX=0;while(!fW&&fX<m(fV))if(fU(fV[fX]))fW=true;else fX=fX+1;return fW;}
function bL(fU){ return Array.prototype.concat.apply([], bQ(fU));}
function bM(fU, fV){ for(let fW=0, fX=fV.length-1;fW<=fX;fW++)fU(fV[fW]);}
function bN(fU, fV, fW){ let fX=fW;const fY=fV.length;for(let fZ=1, f0=fY;fZ<=f0;fZ++)fX=fU(fV[fY-fZ], fX);return fX;}
function bO(fU, fV){ const fW=new Array(fV.length);for(let fX=0, fY=fV.length-1;fX<=fY;fX++)fW[fX]=fU(fV[fX]);return fW;}
function bP(fU, fV){ const fW=[];for(let fX=0, fY=fV.length-1;fX<=fY;fX++)if(fU(fV[fX]))fW.push(fV[fX]);return fW;}
function bQ(fU){ if(fU instanceof Array)return fU.slice();else if(fU instanceof el)return bS(fU);else { const fV=[];const fW=cy(fU);try { while(fW.MoveNext())fV.push(fW.Current);return fV;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } }
function bR(fU, fV){ const fW=bJ(fU, fV);return fW==null?e("KeyNotFoundException"):fW.$0;}
function bS(fU){ const fV=[];let fW=fU;while(!(fW.$==0)){ fV.push(e6(fW));fW=e7(fW);} return fV;}
function bT(fU, fV){ let fW=true;let fX=0;while(fW&&fX<m(fV))if(fU(fV[fX]))fX=fX+1;else fW=false;return fW;}
function bU(fU, fV){ const fW=new Array(fU);for(let fX=0, fY=fU-1;fX<=fY;fX++)fW[fX]=fV;return fW;}
function bV(fU, fV){ if(fU<0)e("Negative size given.");else null;const fW=new Array(fU);for(let fX=0, fY=fU-1;fX<=fY;fX++)fW[fX]=fV(fX);return fW;}
let bW=fO((fU) => class fV extends h { static { bW=fU(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(fW, fX, fY){ let fZ;const f0=bW.GetHolesFor(fW);const f1=(fZ=null,[f0.TryGetValue(fX, {get:() => fZ, set:(f3) => { fZ=f3;}}), fZ]);if(f1[0])return f1[1];else { const f2=fY();f0.set_Item(fX, f2);return f2;} } static GetHolesFor(fW){ let fX;const fY=(fX=null,[bW.initialized.TryGetValue(fW, {get:() => fX, set:(f0) => { fX=f0;}}), fX]);if(fY[0])return fY[1];else { const fZ=new bj("New_5");bW.initialized.set_Item(fW, fZ);return fZ;} } static { bW.initialized=new bj("New_5");bW.instances=new bj("New_5");} });
class bX extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0030(this.fillWith.View);} AddAttribute(fU, fV){(fU(fV))(d_(this.fillWith));} get AsChoiceView(){ return ek(c_(String, this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class bY extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0030(c_(String, this.fillWith.View));} AddAttribute(fU, fV){(fU(fV))(d$(this.fillWith));} get AsChoiceView(){ return ek(c_(String, this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class bZ extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0030(c_(String, this.fillWith.View));} AddAttribute(fU, fV){(fU(fV))(ea(this.fillWith));} get AsChoiceView(){ return ek(c_(String, this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class b0 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0030(c_((fU) =>(new Date(fU)).toLocaleString(), this.fillWith.View));} AddAttribute(fU, fV){(fU(fV))(eb(this.fillWith));} get AsChoiceView(){ return ek(c_((fU) =>(new Date(fU)).toLocaleString(), this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class b1 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0030(c_(String, this.fillWith.View));} AddAttribute(fU, fV){(fU(fV))(ec(this.fillWith));} get AsChoiceView(){ return ek(c_(String, this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class b2 extends o { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
class b3 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0030(c_((fU) => em(",", fU), this.fillWith.View));} AddAttribute(fU, fV){(fU(fV))(ed(this.fillWith));} get AsChoiceView(){ return ek(c_(String, this.fillWith.View));} constructor(fU, fV){ super();this.name=fU;this.fillWith=fV;} }
function b4(fU){ return{$:6, $0:fU};}
function b5(fU){ return{$:5, $0:fU};}
function b6(fU){ return{$:4, $0:fU};}
class b7 { }
function b8(fU, fV){ return fE(fU, -2147483648, 2147483647, fV);}
class b9 extends p { isConst;current;snap;view;id;get View(){ return this.view;} Set(fU){ if(this.isConst)(((fV) => fV("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fV) => { console.log(fV);}));else { dM(this.snap);this.current=fU;this.snap={s:c2(fU, [])};} } SetFinal(fU){ if(this.isConst)(((fV) => fV("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((fV) => { console.log(fV);}));else { dM(this.snap);this.isConst=true;this.current=fU;this.snap={s:c3(fU)};} } Get(){ return this.current;} UpdateMaybe(fU){ const fV=fU(this.Get());if(fV!=null&&fV.$==1)this.Set(fV.$0);} constructor(fU, fV, fW){ super();this.isConst=fU;this.current=fW;this.snap=fV;this.view=() => this.snap;this.id=cZ();} }
function b_(fU, fV, fW){ const fX=fU.s;if(fX==null)fW();else fX!=null&&fX.$==2?(fX.$1.push(fW),fV(fX.$0)):fX!=null&&fX.$==3?(fX.$0.push(fV),fX.$1.push(fW)):fV(fX.$0);}
function b$(fU, fV){ const fW=fV.s;if(fW!=null&&fW.$==0)return{s:c3(fU(fW.$0))};else { const fX={s:c4([], [])};cg(fV, (fY) => { ch(fX, fV, fU(fY));}, fX);return fX;} }
function ca(fU, fV, fW, fX){ const fY=fV.s;const fZ=fW.s;const f0=fX.s;if(fY!=null&&fY.$==0)return fZ!=null&&fZ.$==0?f0!=null&&f0.$==0?{s:c3(fU(fY.$0, fZ.$0, f0.$0))}:ci(fU, fY.$0, fZ.$0, fX):f0!=null&&f0.$==0?cj(fU, fY.$0, f0.$0, fW):ck(fU, fY.$0, fW, fX);else if(fZ!=null&&fZ.$==0)return f0!=null&&f0.$==0?cl(fU, fZ.$0, f0.$0, fV):cm(fU, fZ.$0, fV, fX);else if(f0!=null&&f0.$==0)return cn(fU, f0.$0, fV, fW);else { const f1={s:c4([], [])};const f2=() => { const f3=f1.s;if(!(f3!=null&&f3.$==0||f3!=null&&f3.$==2)){ const f4=co(fV);const f5=co(fW);const f6=co(fX);if(f4!=null&&f4.$==1)if(f5!=null&&f5.$==1)if(f6!=null&&f6.$==1)if(f4.$0[1]&&f5.$0[1]&&f6.$0[1])cp(f1, fU(f4.$0[0], f5.$0[0], f6.$0[0]));else cq(f1, fU(f4.$0[0], f5.$0[0], f6.$0[0]));} };cg(fV, f2, f1);cg(fW, f2, f1);cg(fX, f2, f1);return f1;} }
function cb(fU){ const fV=bQ(fU);if(fV.length==0)return{s:c3([])};else { const fW={s:c4([], [])};const fX=[m(fV)-1];const fY=() => { if(fX[0]===0){ const fZ=bO((f0) => { const f1=f0.s;return f1!=null&&f1.$==0?f1.$0:f1!=null&&f1.$==2?f1.$0:e("value not found by View.Sequence");}, fV);if(bT((f0) => { const f1=f0.s;return f1!=null&&f1.$==0;}, fV))cp(fW, fZ);else cq(fW, fZ);} else fX[0]=fX[0]-1;};bM((fZ) => { cg(fZ, fY, fW);}, fV);return fW;} }
function cc(fU, fV, fW){ const fX=fV.s;const fY=fW.s;if(fX!=null&&fX.$==0)return fY!=null&&fY.$==0?{s:c3(fU(fX.$0, fY.$0))}:cr(fU, fX.$0, fW);else if(fY!=null&&fY.$==0)return cs(fU, fY.$0, fV);else { const fZ={s:c4([], [])};const f0=() => { const f1=fZ.s;if(!(f1!=null&&f1.$==0||f1!=null&&f1.$==2)){ const f2=co(fV);const f3=co(fW);if(f2!=null&&f2.$==1)if(f3!=null&&f3.$==1)if(f2.$0[1]&&f3.$0[1])cp(fZ, fU(f2.$0[0], f3.$0[0]));else cq(fZ, fU(f2.$0[0], f3.$0[0]));} };cg(fV, f0, fZ);cg(fW, f0, fZ);return fZ;} }
function cd(fU, fV){ const fW=fU.s;const fX=fV.s;if(fW!=null&&fW.$==0)return fX!=null&&fX.$==0?{s:c3(null)}:fV;else if(fX!=null&&fX.$==0)return fU;else { const fY={s:c4([], [])};const fZ=() => { const f0=fY.s;if(!(f0!=null&&f0.$==0||f0!=null&&f0.$==2)){ const f1=co(fU);const f2=co(fV);if(f1!=null&&f1.$==1)if(f2!=null&&f2.$==1)if(f1.$0[1]&&f2.$0[1])cp(fY, null);else cq(fY, null);} };cg(fU, fZ, fY);cg(fV, fZ, fY);return fY;} }
function ce(fU){ const fV=fU.s;if(fV==null)return fU;else if(fV!=null&&fV.$==2){ const fW={s:c2(fV.$0, [])};ct(fU, fW);return fW;} else if(fV!=null&&fV.$==3){ const fX={s:c4([], [])};cg(fU, (fY) => { ch(fX, fU, fY);}, fX);return fX;} else return fU;}
function cf(fU, fV){ const fW=fU.s;if(fW==null)fV();else fW!=null&&fW.$==2?fW.$1.push(fV):fW!=null&&fW.$==3?fW.$1.push(fV):void 0;}
function cg(fU, fV, fW){ const fX=fU.s;if(fX==null)dM(fW);else fX!=null&&fX.$==2?(cu(fX.$1, fW),fV(fX.$0)):fX!=null&&fX.$==3?(fX.$0.push(fV),cu(fX.$1, fW)):fV(fX.$0);}
function ch(fU, fV, fW){ const fX=fV.s;if(fX!=null&&fX.$==0)cp(fU, fW);else cq(fU, fW);}
function ci(fU, fV, fW, fX){ return b$((fY) => fU(fV, fW, fY), fX);}
function cj(fU, fV, fW, fX){ return b$((fY) => fU(fV, fY, fW), fX);}
function ck(fU, fV, fW, fX){ return cc((fY, fZ) => fU(fV, fY, fZ), fW, fX);}
function cl(fU, fV, fW, fX){ return b$((fY) => fU(fY, fV, fW), fX);}
function cm(fU, fV, fW, fX){ return cc((fY, fZ) => fU(fY, fV, fZ), fW, fX);}
function cn(fU, fV, fW, fX){ return cc((fY, fZ) => fU(fY, fZ, fV), fW, fX);}
function co(fU){ const fV=fU.s;return fV!=null&&fV.$==0?u0030([fV.$0, true]):fV!=null&&fV.$==2?u0030([fV.$0, false]):null;}
function cp(fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==3){ fU.s=c3(fV);const fX=fW.$0;for(let fY=0, fZ=m(fX)-1;fY<=fZ;fY++)(j(fX, fY))(fV);} else void 0;}
function cq(fU, fV){ const fW=fU.s;if(fW!=null&&fW.$==3){ fU.s=c2(fV, fW.$1);const fX=fW.$0;for(let fY=0, fZ=m(fX)-1;fY<=fZ;fY++)(j(fX, fY))(fV);} else void 0;}
function cr(fU, fV, fW){ return b$((fX) => fU(fV, fX), fW);}
function cs(fU, fV, fW){ return b$((fX) => fU(fX, fV), fW);}
function ct(fU, fV){ const fW=fU.s;if(fW==null)dM(fV);else fW!=null&&fW.$==2?cu(fW.$1, fV):fW!=null&&fW.$==3?cu(fW.$1, fV):void 0;}
function cu(fU, fV){ fU.push(fV);if(fU.length%20===0){ const fW=fU.slice(0);fJ(fU);for(let fY=0, fZ=m(fW)-1;fY<=fZ;fY++){ const fX=j(fW, fY);if(typeof fX=="object")(((f0) => { if(f0.s)fU.push(f0);})(fX));else(((f0) => { fU.push(f0);})(fX));} } else void 0;}
class cv extends h { idle;robin;Fork(fU){ this.robin.push(fU);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fU=Date.now();let fV=true;while(fV)if(this.robin.length===0){ this.idle=true;fV=false;} else {(this.robin.shift())();Date.now()-fU>40?(setTimeout(() => { this.tick();}, 0),fV=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
let cw=fO((fU) => class fV { static { cw=fU(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bq(false, []);this.scheduler=new cv();this.defCTS=[new c6()];this.Zero=O();this.GetCT=(fW) => { fW.k(bn(fW.ct));};} });
function cx(){ throw new eZ("New");}
function cy(fU){ return fU instanceof Array?cz(fU):u(typeof fU, "string")?cA(fU):fU.GetEnumerator();}
function cz(fU){ return new cC(0, null, (fV) => { const fW=fV.s;return fW<m(fU)&&(fV.c=j(fU, fW),fV.s=fW+1,true);}, void 0);}
function cA(fU){ return new cC(0, null, (fV) => { const fW=fV.s;return fW<fU.length&&(fV.c=fU[fW],fV.s=fW+1,true);}, void 0);}
function cB(fU){ return fU instanceof Array?cz(fU):u(typeof fU, "string")?cA(fU):"GetEnumerator0"in fU?fU.GetEnumerator0():fU.GetEnumerator();}
class cC extends h { s;c;n;d;e;MoveNext(){ const fU=this.n(this);this.e=fU?1:2;return fU;} get Current(){ return this.e===1?this.c:this.e===0?e("Enumeration has not started. Call MoveNext."):e("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fU, fV, fW, fX){ super();this.s=fU;this.c=fV;this.n=fW;this.d=fX;this.e=0;} }
let cD=fO((fU) => class fV { static { cD=fU(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bj("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bj("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cE(fU, fV){ cF(fU, fV, null);}
function cF(fU, fV, fW){ while(true){ if(fV!=null&&fV.$==1)return cK(fU, fV.$0.El, fW);else if(fV!=null&&fV.$==2){ const fX=fV.$0;fX.Dirty=false;fV=fX.Current;} else if(fV==null)return fW;else if(fV!=null&&fV.$==4)return cK(fU, fV.$0.Text, fW);else if(fV!=null&&fV.$==5)return cK(fU, fV.$0, fW);else if(fV!=null&&fV.$==6)return bN((f0, f1) =>((((f2) =>(f3) =>(f4) => f3==null||f3.constructor===Object?cF(f2, f3, f4):cK(f2, f3, f4))(fU))(f0))(f1), fV.$0.Els, fW);else { const fY=fV.$1;const fZ=fV.$0;fV=fZ;fW=cF(fU, fY, fW);} } }
function cG(fU, fV){ return ez(eA(), cL(fU, dT(), fV));}
function cH(fU, fV, fW){ if(dC()){ const fX=null;return M(() => { const fY=eB(fW);const fZ=cP(fV, fY);const f0=cO(fV, fY);return N(dD(dE(fZ, cN(fV, fY))), () => N(cM(fU, fV), () => N(dD(f0), () => { fV.PreviousNodes=fY;return O(null);})));});} else return cM(fU, fV);}
function cI(fU, fV, fW){ const fX=eB(fW);cQ(fU, fV.Top);fV.PreviousNodes=fX;}
function cJ(fU, fV){ const fW=fU.parentNode;const fX=globalThis.document.createTextNode("");fW.insertBefore(fX, fU);cT(fU, fV);return fX;}
function cK(fU, fV, fW){ dw(fU, fW, fV);return fV;}
function cL(fU, fV, fW){ cE(fU, fW);const fX=dN(fU, fV);return cY.New(fX, fW, null, fU, cZ(), fP(fX.OnAfterRender));}
function cM(fU, fV){ if(dJ()){ const fW=(fX) => { requestAnimationFrame(() => { cQ(fU, fV.Top);fX();});};return R((fX, fY, fZ) => fW.apply(null, [fX, fY, fZ]));} else { cQ(fU, fV.Top);return O(null);} }
function cN(fU, fV){ return dH(bO((fW) => dV(fW.Attr), eF(eE(fV, eD((fW) => dU(fW.Attr), fU.PreviousNodes)))));}
function cO(fU, fV){ return dH(bO((fW) => dX(fW.Attr), eF(eE(fU.PreviousNodes, eD((fW) => dW(fW.Attr), fV)))));}
function cP(fU, fV){ const fW=(fY) => dY(fY.Attr);const fX=(fY) => eD(fW, fY);return dH(bO((fY) => dZ(fY.Attr), eF(eG(fX(fU.PreviousNodes), fX(fV)))));}
function cQ(fU, fV){!fU?cU(fV):void 0;cV(fV.Children);cW(fV);}
function cR(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cS(fU, fV){ fU.Value=fV;fU.Dirty=true;}
function cT(fU, fV){ cF(fU.parentNode, fV, fU);}
function cU(fU){ function fV(fW){ function fX(fY){ while(true){ if(fY!=null&&fY.$==0){ const fZ=fY.$1;const f0=fY.$0;if(fX(f0))return true;else fY=fZ;} else if(fY!=null&&fY.$==2){ const f1=fY.$0;if(f1.Dirty)return true;else fY=f1.Current;} else if(fY!=null&&fY.$==6){ const f2=fY.$0;return f2.Dirty||bK(fV, f2.Holes);} else return false;} } return fX(fW.Children);} d2(fU.El, fU.Attr);if(fV(fU))cX(fU);}
function cV(fU){ while(true){ if(fU!=null&&fU.$==1)return cQ(false, fU.$0);else if(fU!=null&&fU.$==2){ const fV=fU.$0;fU=fV.Current;} else if(fU==null)return null;else if(fU!=null&&fU.$==5)return null;else if(fU!=null&&fU.$==4){ const fW=fU.$0;return fW.Dirty?(fW.Text.nodeValue=fW.Value,fW.Dirty=false):null;} else if(fU!=null&&fU.$==6){ const fX=fU.$0;bM((f0) => { cQ(false, f0);}, fX.Holes);bM((f0) => { d2(f0[0], f0[1]);}, fX.Attrs);return cW(fX);} else { const fY=fU.$1;const fZ=fU.$0;cV(fZ);fU=fY;} } }
function cW(fU){ const fV=fP(fU.Render);if(fV!=null&&fV.$==1){ fV.$0(fU.El);fN(fU, "Render", null);} }
function cX(fU){ const fV=fU.El;function fW(f0, f1){ while(true){ if(f0!=null&&f0.$==1)return f0.$0.El;else if(f0!=null&&f0.$==2){ const f2=f0.$0;if(f2.Dirty){ f2.Dirty=false;return cF(fV, f2.Current, f1);} else f0=f2.Current;} else if(f0==null)return f1;else if(f0!=null&&f0.$==4)return f0.$0.Text;else if(f0!=null&&f0.$==5)return f0.$0;else if(f0!=null&&f0.$==6){ const f3=f0.$0;if(f3.Dirty)f3.Dirty=false;return bN((f6, f7) => f6==null||f6.constructor===Object?fW(f6, f7):f6, f3.Els, f1);} else { const f4=f0.$1;const f5=f0.$0;f0=f5;f1=fW(f4, f1);} } } const fX=fU.El;fz((f0) => { dx(fX, f0);}, fy(fA(fU), fx(fU.El, fP(fU.Delimiters))));let fY=fU.Children;const fZ=fP(fU.Delimiters);fW(fY, fZ!=null&&fZ.$==1?fZ.$0[1]:null);}
class cY { Attr;Children;Delimiters;El;ElKey;Render;Equals(fU){ return this.ElKey===fU.ElKey;} GetHashCode(){ return this.ElKey;} static New(fU, fV, fW, fX, fY, fZ){ const f0={Attr:fU, Children:fV, El:fX, ElKey:fY};let f1=(fN(f0, "Delimiters", fW),fN(f0, "Render", fZ),f0);return fS(cY, f1);} }
function cZ(){ c0(c1()+1);return c1();}
function c0(fU){ eR.counter=fU;}
function c1(){ return eR.counter;}
function c2(fU, fV){ return{$:2, $0:fU, $1:fV};}
function c3(fU){ return{$:0, $0:fU};}
function c4(fU, fV){ return{$:3, $0:fU, $1:fV};}
class c5 extends Error { ct;static New(fU){ return new this("New", fU);} static New_1(fU, fV, fW){ return new this("New_1", fU, fV, fW);} constructor(fU, fV, fW, fX){ let fY;if(fU=="New"){ fY=fV;fU="New_1";fV="The operation was canceled.";fW=null;fX=fY;} if(fU=="New_1"){ const fZ=fV;const f0=fW;const f1=fX;super(fZ);this.inner=f0;this.ct=f1;} } }
class c6 extends h { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
class c7 extends bi { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fU, fV){ const fW=ex.Create(fV);const fX=bO((f0) => dO(f0[1]), fU.Attrs);let fY=eu(c8(), dc, fX);let fZ=dc(fY, fW.v);return new c7(b4(fU), fZ, j(fU.Els, 0), fW);} constructor(fU, fV, fW, fX){ super(fU, fV);this.docNode_1=fU;this.updates_1=fV;this.elt=fW;this.rvUpdates=fX;} }
function c8(fU){ const fV={s:c3(fU)};return() => fV;}
function c9(fU, fV){ function fW(){ b_(fV(), fU, () => { V().Fork(fW);});} V().Fork(fW);}
function c_(fU, fV){ return dd(() => b$(fU, fV()));}
function c$(fU, fV, fW, fX){ return dd(() => ca(fU, fV(), fW(), fX()));}
function da(fU){ return dd(() => cb(bw((fV) => fV(), fU)));}
function db(fU, fV, fW){ return dd(() => cc(fU, fV(), fW()));}
function dc(fU, fV){ return dd(() => cd(fU(), fV()));}
function dd(fU){ const fV={c:null, o:fU};return() => { let fW=fV.c;if(fW===null){ fW=fV.o();fV.c=fW;const fX=fW.s;if(fX!=null&&fX.$==0)fV.o=null;else cf(fW, () => { fV.c=null;});return fW;} else return fW;};}
function de(fU){ let fV=null;let fW=0;const fX=fU.textContent;const fY=new RegExp(bh(), "g");while(fV=fY.exec(fX),fV!==null){ fU.parentNode.insertBefore(globalThis.document.createTextNode(dm(fX, u0030(fW), u0030(fY.lastIndex-j(fV, 0).length-1))), fU);fW=fY.lastIndex;const fZ=globalThis.document.createElement("span");fZ.setAttribute("ws-replace", j(fV, 1).toLowerCase());fU.parentNode.insertBefore(fZ, fU);} fY.lastIndex=0;fU.textContent=dm(fX, u0030(fW), null);}
function df(fU){ console.warn("Instantiating non-loaded template", fU);}
function dg(fU, fV, fW){ const fX=fU.querySelector("[ws-replace]");return u(fX, null)?(console.warn("Filling non-existent text hole", fW),null):(fX.parentNode.replaceChild(globalThis.document.createTextNode(fV), fX),u0030(fX.getAttribute("ws-replace")));}
function dh(fU, fV){ const fW=(fX) => { be(fU, "["+fX+"]", (fY) => { if(!fV.Contains(fY.getAttribute(fX)))fY.removeAttribute(fX);});};fW("ws-attr");fW("ws-onafterrender");fW("ws-var");be(fU, "[ws-hole]", (fX) => { if(!fV.Contains(fX.getAttribute("ws-hole"))){ fX.removeAttribute("ws-hole");while(fX.hasChildNodes())fX.removeChild(fX.lastChild);} });be(fU, "[ws-replace]", (fX) => { if(!fV.Contains(fX.getAttribute("ws-replace")))fX.parentNode.removeChild(fX);});be(fU, "[ws-on]", (fX) => { fX.setAttribute("ws-on", em(" ", bP((fY) => fV.Contains(j(en(fY, [":"], 1), 1)), en(fX.getAttribute("ws-on"), [" "], 1))));});be(fU, "[ws-attr-holes]", (fX) => { const fY=en(fX.getAttribute("ws-attr-holes"), [" "], 1);for(let f2=0, f3=fY.length-1;f2<=f3;f2++){ const fZ=j(fY, f2);let f0=new RegExp(bh(), "g");let f1=fX.getAttribute(fZ).replace(f0, (f4, f5) => fV.Contains(f5)?f4:"");fX.setAttribute(fZ, f1);} });}
function di(fU, fV){ dl(fV);const fW=fV.nodeName.toLowerCase();const fX=fU.querySelector("[ws-attr="+fW+"]");if(u(fX, null))console.warn("Filling non-existent attr hole", fW);else { fX.removeAttribute("ws-attr");for(let fZ=0, f0=fV.attributes.length-1;fZ<=f0;fZ++){ const fY=fV.attributes.item(fZ);if(fY.name=="class"&&fX.hasAttribute("class"))fX.setAttribute("class", fX.getAttribute("class")+" "+fY.nodeValue);else fX.setAttribute(fY.name, fY.nodeValue);} } }
function dj(fU, fV){ const fW=(fX) => { be(fU, "["+fX+"]", (fY) => { let fZ;const f0=(fZ=null,[fV.TryGetValue(fY.getAttribute(fX).toLowerCase(), {get:() => fZ, set:(f1) => { fZ=f1;}}), fZ]);if(f0[0])fY.setAttribute(fX, f0[1]);});};fW("ws-hole");fW("ws-replace");fW("ws-attr");fW("ws-onafterrender");fW("ws-var");be(fU, "[ws-on]", (fX) => { fX.setAttribute("ws-on", em(" ", bO((fY) => { let fZ;const f0=en(fY, [":"], 1);const f1=(fZ=null,[fV.TryGetValue(j(f0, 1), {get:() => fZ, set:(f2) => { fZ=f2;}}), fZ]);return f1[0]?j(f0, 0)+":"+f1[1]:fY;}, en(fX.getAttribute("ws-on"), [" "], 1))));});be(fU, "[ws-attr-holes]", (fX) => { const fY=en(fX.getAttribute("ws-attr-holes"), [" "], 1);for(let fZ=0, f0=fY.length-1;fZ<=f0;fZ++)((() => { const f1=j(fY, fZ);return fX.setAttribute(f1, bu((f2, f3) => { const f4=f(f3);return f2.replace(new RegExp("\\${"+f4[0]+"}", "ig"), "${"+f4[1]+"}");}, fX.getAttribute(f1), fV));})());});}
function dk(fU, fV, fW){ while(true){ if(fU.hasChildNodes())fW=fV.insertBefore(fU.lastChild, fW);else return null;} }
function dl(fU){ const fV=fU.attributes;const fW=[];const fX=[];const fY=[];for(let f3=0, f4=fV.length-1;f3<=f4;f3++){ const fZ=fV.item(f3);if(eo(fZ.nodeName, "ws-on")&&fZ.nodeName!="ws-onafterrender"&&fZ.nodeName!="ws-on"){ fW.push(fZ.nodeName);fX.push(dm(fZ.nodeName, u0030("ws-on".length), null)+":"+fZ.nodeValue.toLowerCase());} else if(!eo(fZ.nodeName, "ws-")&&(new RegExp(bh())).test(fZ.nodeValue)){ let f0=new RegExp(bh(), "g");let f1=fZ.nodeValue.replace(f0, (f5, f6) =>"${"+f6.toLowerCase()+"}");fZ.nodeValue=f1;fY.push(fZ.nodeName);} else void 0;} if(!(fX.length==0))fU.setAttribute("ws-on", em(" ", fX));if(!(fY.length==0))fU.setAttribute("ws-attr-holes", em(" ", fY));const f2=(f5) => { const f6=fU.getAttribute(f5);if(f6==null){ } else fU.setAttribute(f5, f6.toLowerCase());};f2("ws-hole");f2("ws-replace");f2("ws-attr");f2("ws-onafterrender");f2("ws-var");bM((f5) => { fU.removeAttribute(f5);}, fW);}
function dm(fU, fV, fW){ if(fV==null){ if(fW!=null&&fW.$==1){ const fX=fW.$0;return fX<0?"":fU.slice(0, fX+1);} else return"";} else if(fW==null)return fU.slice(fV.$0);else { const fY=fW.$0;return fY<0?"":fU.slice(fV.$0, fY+1);} }
function dn(fU){ const fV=globalThis.document.createElement("div");if(!dp().test(fU)){ fV.appendChild(globalThis.document.createTextNode(fU));return fV;} else { const fW=dt().exec(fU);const fX=u(fW, null)?"":j(fW, 1).toLowerCase();const fY=(dq())[fX];const fZ=fY?fY:dr();fV.innerHTML=fZ[1]+fU.replace(ds(), "<$1></$2>")+fZ[2];function f0(f1, f2){ while(true){ if(f2===0)return f1;else { const f3=f2;f1=f1.lastChild;f2=f3-1;} } } return f0(fV, fZ[0]);} }
function do_1(fU){ const fV=[];for(let fW=0, fX=fU.childNodes.length-1;fW<=fX;fW++)fV.push(fU.childNodes[fW]);return fV;}
function dp(){ return eS.rhtml;}
function dq(){ return eS.wrapMap;}
function dr(){ return eS.defaultWrap;}
function ds(){ return eS.rxhtmlTag;}
function dt(){ return eS.rtagName;}
function du(fU, fV, fW){ const fX=fU.querySelectorAll(fV);for(let fY=0, fZ=fX.length-1;fY<=fZ;fY++)fW(fX[fY]);}
function dv(fU, fV){ const fW=globalThis.document.querySelectorAll(fU);for(let fX=0, fY=fW.length-1;fX<=fY;fX++)fV(fW[fX]);}
function dw(fU, fV, fW){ let fX;if(fW.parentNode===fU){ const fY=fW.nextSibling;let fZ=u(fY, null)?null:fY;fX=fV===fZ;} else fX=false;if(!fX)fU.insertBefore(fW, fV);}
function dx(fU, fV){ if(fV.parentNode===fU)fU.removeChild(fV);}
function dy(){ return e("The input sequence has an insufficient number of elements.");}
function dz(fU, fV){ let fW=true;let fX=0;while(fW&&fX<m(fV))if(u(fV[fX], fU))fW=false;else fX=fX+1;return!fW;}
function dA(){ return e("The input must be non-negative.");}
class dB extends h { d;GetEnumerator(){ return cy(bw((fU) => fU.K, this.d));} constructor(fU){ super();this.d=fU;} }
function dC(){ return eH();}
function dD(fU){ const fV=null;return M(() => N(dF(() => { }, eI(fU)), () => { eJ(fU);return O(null);}));}
function dE(fU, fV){ return dG(eU(fU.$0, fV.$0));}
function dF(fU, fV){ const fW=fV.Duration;if(fW===0)return W();else { const fX=(fY) => { function fZ(f0){ return(f1) => { const f2=f1-f0;fV.Compute(f2);fU();return f2<=fW?void requestAnimationFrame((f3) => {(fZ(f0))(f3);}):fY();};} requestAnimationFrame((f0) => {(fZ(f0))(f0);});};return R((fY, fZ, f0) => fX.apply(null, [fY, fZ, f0]));} }
function dG(fU){ return{$:0, $0:fU};}
function dH(fU){ return dG(eW(bw(eL, fU)));}
function dI(){ return dG(eX());}
function dJ(){ return eP.BatchUpdatesEnabled;}
function dK(fU){ const fV=[0];function fW(){ const fX=null;return M(() => N(fU, () => { const fY=fV[0];return u(fY, 1)?(fV[0]=0,W()):u(fY, 2)?(fV[0]=1,fW()):W();}));} return() => { const fX=fV[0];if(u(fX, 0)){ fV[0]=1;X(fW(), null);} else u(fX, 1)?fV[0]=2:void 0;};}
function dL(fU, fV, fW, fX){ const fY={DynElem:fU, DynFlags:fV, DynNodes:fW};fN(fY, "OnAfterRender", fX);return fY;}
function dM(fU){ let fV;const fW=fU.s;if(fW==null||(fW!=null&&fW.$==2?(fV=fW.$1,false):fW!=null&&fW.$==3?(fV=fW.$1,false):true))void 0;else { fU.s=null;for(let fY=0, fZ=m(fV)-1;fY<=fZ;fY++){ const fX=j(fV, fY);if(typeof fX=="object")(((f0) => { dM(f0);})(fX));else fX();} } }
function dN(fU, fV){ const fW=[];const fX=[];function fY(f1){ while(true){ if(!(f1===null)){ if(f1!=null&&f1.$==1)return fW.push(f1.$0);else if(f1!=null&&f1.$==2){ const f2=f1.$1;const f3=f1.$0;fY(f3);f1=f2;} else return f1!=null&&f1.$==3?f1.$0(fU):f1!=null&&f1.$==4?fX.push(f1.$0):null;} else return null;} } fY(fV);const fZ=fW.slice(0);let f0=dL(fU, dQ(fV), fZ, fX.length===0?null:u0030((f1) => { bv((f2) => { f2(f1);}, fX);}));return f0;}
function dO(fU){ return ev((fV) => fV.NChanged, c8(), dc, fU.DynNodes);}
function dP(fU){ return dL(fU, 0, [], null);}
function dQ(fU){ return fU!==null&&fU.hasOwnProperty("flags")?fU.flags:0;}
function dR(fU){ return eg.A3(fU);}
function dS(fU, fV){ return eg.A1(new eY(fU, fV));}
function dT(){ return e0.EmptyAttr;}
function dU(fU){ const fV=2;return(fU.DynFlags&fV)===fV;}
function dV(fU){ return d1(fU, (fV, fW) => fV.NGetExitAnim(fW));}
function dW(fU){ const fV=1;return(fU.DynFlags&fV)===fV;}
function dX(fU){ return d1(fU, (fV, fW) => fV.NGetEnterAnim(fW));}
function dY(fU){ const fV=4;return(fU.DynFlags&fV)===fV;}
function dZ(fU){ return d1(fU, (fV, fW) => fV.NGetChangeAnim(fW));}
function d0(fU, fV){ if(fU===null)return fV;else if(fV===null)return fU;else { const fW=eg.A2(fU, fV);d3(fW, dQ(fU)|dQ(fV));return fW;} }
function d1(fU, fV){ return dH(bO((fW) => fV(fW, fU.DynElem), fU.DynNodes));}
function d2(fU, fV){ bM((fW) => { fW.NSync(fU);}, fV.DynNodes);}
function d3(fU, fV){ fU.flags=fV;}
class d4 extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d5 extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d6 extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function d7(fU, fV){ return dR((fW) => { fW.addEventListener(fU, (fX) =>(fV(fW))(fX), false);});}
function d8(fU){ return eg.A4(fU);}
function d9(fU, fV){ return dS(fV, (fW) =>(fX) => fW.setAttribute(fU, fX));}
function d_(fU){ return ee(fp(), fU);}
function d$(fU){ return ee(fq(), fU);}
function ea(fU){ return ee(fr(), fU);}
function eb(fU){ return ee(fs(), fU);}
function ec(fU){ return ee(ft(), fU);}
function ed(fU){ return ee(fu(), fU);}
function ee(fU, fV){ const fW=fU(fV);return eg.Append(dR(fW[0]), ef(fW[1], fW[2]));}
function ef(fU, fV){ return dS(fV, fU);}
class eg { static Handler(fU, fV){ return eg.HandlerImpl(fU, fV);} static Concat(fU){ const fV=ew(fU);return eu(dT(), eg.Append, fV);} static Create(fU, fV){ return dR((fW) => { fW.setAttribute(fU, fV);});} static HandlerImpl(fU, fV){ return dR((fW) => { fW.addEventListener(fU, (fX) =>(fV(fW))(fX), false);});} static Append(fU, fV){ return d0(fU, fV);} static A4(fU){ return fS(eg, {$:4, $0:fU});} static A3(fU){ return fS(eg, {$:3, $0:fU});} static A1(fU){ return fS(eg, {$:1, $0:fU});} static A2(fU, fV){ return fS(eg, {$:2, $0:fU, $1:fV});} }
class eh extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class ei extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ej(fU){ return{$:0, $0:fU};}
function ek(fU){ return{$:1, $0:fU};}
class el { static Cons(fU, fV){ return fS(el, {$:1, $0:fU, $1:fV});} static Empty=fS(el, {$:0});GetEnumerator(){ return new cC(this, null, (fU) => { const fV=fU.s;return fV.$==0?false:(fU.c=fV.$0,fU.s=fV.$1,true);}, void 0);} }
function em(fU, fV){ return bQ(fV).join(fU);}
function en(fU, fV, fW){ return ep(fU, new RegExp("["+eq(fV.join(""))+"]"), fW);}
function eo(fU, fV){ return fU.substring(0, fV.length)==fV;}
function ep(fU, fV, fW){ return fW===1?bP((fX) => fX!=="", er(fU, fV)):er(fU, fV);}
function eq(fU){ return fU.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function er(fU, fV){ return fU.split(fV);}
function es(fU, fV){ return bF(fU, et(fV));}
function et(fU){ return fU==null?"":fU;}
function eu(fU, fV, fW){ const fX=m(fW);function fY(fZ){ return(f0) => { let f1;switch(f0<=0?0:f0===1?fZ>=0&&fZ<fX?1:(f1=f0,2):(f1=f0,2)){ case 0:return fU;case 1:return j(fW, fZ);case 2:const f2=f0/2>>0;return fV((fY(fZ))(f2), (fY(fZ+f2))(f0-f2));} };} return(fY(0))(fX);}
function ev(fU, fV, fW, fX){ const fY=m(fX);function fZ(f0){ return(f1) => { let f2;switch(f1<=0?0:f1===1?f0>=0&&f0<fY?1:(f2=f1,2):(f2=f1,2)){ case 0:return fV;case 1:return fU(j(fX, f0));case 2:const f3=f1/2>>0;return fW((fZ(f0))(f3), (fZ(f0+f3))(f1-f3));} };} return(fZ(0))(fY);}
function ew(fU){ if(fU instanceof Array)return fU;else if(fU instanceof el)return bS(fU);else if(fU===null)return[];else { const fV=[];const fW=cy(fU);try { while(fW.MoveNext())fV.push(fW.Current);return fV;} finally { if(typeof fW=="object"&&a(fW))fW.Dispose();} } }
class ex { c;s;v;static Create(fU){ let fV;fV=null;fV=ex.New(fU, null, () => { let fW;fW=fV.s;return fW===null?(fW=ce(fV.c()),fV.s=fW,cf(fW, () => { fV.s=null;}),fW):fW;});return fV;} static New(fU, fV, fW){ return fS(ex, {c:fU, s:fV, v:fW});} }
class ey extends h { d;GetEnumerator(){ return cy(bw((fU) => fU.V, this.d));} constructor(fU){ super();this.d=fU;} }
function ez(fU, fV){ return{PreviousNodes:fU, Top:fV};}
function eA(){ return eC(new br("New_3"));}
function eB(fU){ const fV=[];function fW(fZ, f0){ while(true)switch(fZ){ case 0:if(f0!=null&&f0.$==0){ const f1=f0.$1;const f2=f0.$0;fW(0, f2);f0=f1;} else if(f0!=null&&f0.$==1){ const f3=f0.$0;f0=f3;fZ=1;} else if(f0!=null&&f0.$==2){ const f4=f0.$0;f0=f4.Current;} else if(f0!=null&&f0.$==6){ const f5=f0.$0.Holes;return(((f6) =>(f7) => { bM(f6, f7);})(fY))(f5);} else return null;break;case 1:fV.push(f0);f0=f0.Children;fZ=0;break;} } function fX(fZ){ return fW(0, fZ);} function fY(fZ){ return fW(1, fZ);} fX(fU);return eC(new br("New_2", fV));}
function eC(fU){ return{$:0, $0:fU};}
function eD(fU, fV){ return eC(e2(fU, fV.$0));}
function eE(fU, fV){ return eC(e3(fU.$0, fV.$0));}
function eF(fU){ return e4(fU.$0);}
function eG(fU, fV){ return eC(e5(fU.$0, fV.$0));}
function eH(){ return eT.UseAnimations;}
function eI(fU){ return eK(bH((fV) => fV.$==1?u0030(fV.$0):null, eV(fU.$0)));}
function eJ(fU){ bM((fV) => { if(fV.$==0)fV.$0();}, eV(fU.$0));}
function eK(fU){ const fV=ew(fU);const fW=m(fV);if(fW===0)return eM();else if(fW===1)return j(fV, 0);else { const fX=bz(bw((fZ) => fZ.Duration, fV));const fY=bO((fZ) => eO(fX, fZ), fV);return eN(fX, (fZ) => { bM((f0) => { f0.Compute(fZ);}, fY);});} }
function eL(fU){ return fU.$0;}
function eM(fU){ return eN(0, () => fU);}
function eN(fU, fV){ return{Compute:fV, Duration:fU};}
function eO(fU, fV){ const fW=fV.Compute;const fX=fV.Duration;const fY=fF(() => fV.Compute(fV.Duration));return{Compute:(fZ) => fZ>=fX?fY.f():fW(fZ), Duration:fU};}
let eP=fO((fU) => class fV { static { eP=fU(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eQ(fU){ let fV=[];let fW;for(var fX in fU)fV.push.apply(fV, fU[fX]);return fV;}
let eR=fO((fU) => class fV { static { eR=fU(this);} static counter;static { this.counter=0;} });
let eS=fO((fU) => class fV { static { eS=fU(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const fW=[1, "<table>", "</table>"];let fX=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", fW], ["tbody", fW], ["tfoot", fW], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=fX;this.defaultWrap=[0, "", ""];} });
let eT=fO((fU) => class fV { static { eT=fU(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e1.Custom((fW) => { const fX=fW*fW;return 3*fX-2*(fX*fW);});this.UseAnimations=true;} });
function eU(fU, fV){ return fU.$==0?fV:fV.$==0?fU:{$:2, $0:fU, $1:fV};}
function eV(fU){ const fV=[];function fW(fX){ while(true){ if(fX.$==1)return fV.push(fX.$0);else if(fX.$==2){ const fY=fX.$1;const fZ=fX.$0;fW(fZ);fX=fY;} else return fX.$==3?bM((f0) => { fV.push(f0);}, fX.$0):null;} } fW(fU);return fV.slice(0);}
function eW(fU){ const fV=ew(fU);return eu(eX(), eU, fV);}
function eX(){ return fI.Empty;}
class eY extends h { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fU){ return dI();} NGetEnterAnim(fU){ return dI();} NGetChangeAnim(fU){ return dI();} NSync(fU){ if(this.dirty){(this.push(fU))(this.value);this.dirty=false;} } constructor(fU, fV){ super();this.push=fV;this.value=void 0;this.dirty=false;this.updates=c_((fW) => { this.value=fW;this.dirty=true;}, fU);} }
class eZ extends Error { static New(){ return new this("New");} static New_1(fU){ return new this("New_1", fU);} constructor(fU, fV){ if(fU=="New"){ fU="New_1";fV="The given key was not present in the dictionary.";} if(fU=="New_1"){ const fW=fV;super(fW);} } }
let e0=fO((fU) => class fV { static { e0=fU(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(ga) =>[(gb) => { gb.addEventListener("change", () => ga.Get()!=gb.checked?ga.Set(gb.checked):null);}, (gb) =>(gc) => gc!=null&&gc.$==1?void(gb.checked=gc.$0):null, c_(u0030, ga.View)];this.StringSet=(ga) =>(gb) => { ga.value=gb;};this.StringGet=(ga) => u0030(ga.value);const fW=e$();const fX=e_();this.StringApply=(ga) => e9(fW, fX, ga);this.StringListSet=(ga) =>(gb) => { const gc=ga.options;for(let gd=0, ge=gc.length-1;gd<=ge;gd++)((() => { const gf=gc.item(gd);gf.selected=dz(gf.value, gb);})());};this.StringListGet=(ga) => { const gb=ga.selectedOptions;return u0030(bQ(bx(() => by((gc) =>[gb.item(gc).value], g(0, gb.length-1)))));};const fY=fb();const fZ=fa();this.StringListApply=(ga) => e9(fY, fZ, ga);this.DateTimeSetUnchecked=(ga) =>(gb) => { ga.value=(new Date(gb)).toLocaleString();};this.DateTimeGetUnchecked=(ga) => { let gb;let gc;const gd=ga.value;if(fv(gd))return u0030(-8640000000000000);else { gb=0;const ge=fD(gd);let gf=ge!=null&&ge.$==1&&(gb=ge.$0,true);gc=[gf, gb];return gc[0]?u0030(gc[1]):null;} };const f0=fd();const f1=fc();this.DateTimeApplyUnchecked=(ga) => e9(f0, f1, ga);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(ga) => { const gb=ga.files;return u0030(bQ(bx(() => bw((gc) => gb.item(gc), g(0, gb.length-1)))));};const f2=fg();const f3=ff();this.FileApplyUnchecked=(ga) => fe(f2, f3, ga);this.IntSetUnchecked=(ga) =>(gb) => { ga.value=String(gb);};this.IntGetUnchecked=(ga) => { const gb=ga.value;if(fv(gb))return u0030(0);else { const gc=+gb;return gc!==gc>>0?null:u0030(gc);} };const f4=fi();const f5=fh();this.IntApplyUnchecked=(ga) => e9(f4, f5, ga);this.IntSetChecked=(ga) =>(gb) => { const gc=gb.Input;return ga.value!=gc?void(ga.value=gc):null;};this.IntGetChecked=(ga) => { let gb;let gc;const gd=ga.value;if(fv(gd))gb=(ga.checkValidity?ga.checkValidity():true)?fw.Blank(gd):fw.Invalid(gd);else { const ge=(gc=0,[b8(gd, {get:() => gc, set:(gf) => { gc=gf;}}), gc]);gb=ge[0]?fw.Valid(ge[1], gd):fw.Invalid(gd);} return u0030(gb);};const f6=fk();const f7=fj();this.IntApplyChecked=(ga) => e9(f6, f7, ga);this.FloatSetUnchecked=(ga) =>(gb) => { ga.value=String(gb);};this.FloatGetUnchecked=(ga) => { const gb=ga.value;if(fv(gb))return u0030(0);else { const gc=+gb;return isNaN(gc)?null:u0030(gc);} };const f8=fm();const f9=fl();this.FloatApplyUnchecked=(ga) => e9(f8, f9, ga);this.FloatSetChecked=(ga) =>(gb) => { const gc=gb.Input;return ga.value!=gc?void(ga.value=gc):null;};this.FloatGetChecked=(ga) => { let gb;const gc=ga.value;if(fv(gc))gb=(ga.checkValidity?ga.checkValidity():true)?fw.Blank(gc):fw.Invalid(gc);else { const gd=+gc;gb=isNaN(gd)?fw.Invalid(gc):fw.Valid(gd, gc);} return u0030(gb);};const f_=fo();const f$=fn();this.FloatApplyChecked=(ga) => e9(f_, f$, ga);} });
class e1 extends h { transformTime;static Custom(fU){ return new e1(fU);} constructor(fU){ super();this.transformTime=fU;} }
function e2(fU, fV){ return new br("New_2", bP(fU, e4(fV)));}
function e3(fU, fV){ const fW=new br("New_2", e4(fV));fW.ExceptWith(e4(fU));return fW;}
function e4(fU){ const fV=bU(fU.Count, void 0);fU.CopyTo(fV, 0);return fV;}
function e5(fU, fV){ const fW=new br("New_2", e4(fU));fW.IntersectWith(e4(fV));return fW;}
function e6(fU){ return fU.$==1?fU.$0:e8();}
function e7(fU){ return fU.$==1?fU.$1:e8();}
function e8(){ return e("The input list was empty.");}
function e9(fU, fV, fW){ let fX;fX=null;return[(fY) => { const fZ=() => { fW.UpdateMaybe((f0) => { let f1;fX=fU(fY);return fX!=null&&fX.$==1&&(!u(fX.$0, f0)&&(f1=[fX, fX.$0],true))?f1[0]:null;});};fY.addEventListener("change", fZ);fY.addEventListener("input", fZ);fY.addEventListener("keypress", fZ);}, (fY) => { const fZ=fV(fY);return(f0) => f0==null?null:fZ(f0.$0);}, c_((fY) => { let fZ;return fX!=null&&fX.$==1&&(u(fX.$0, fY)&&(fZ=fX.$0,true))?null:u0030(fY);}, fW.View)];}
function e_(){ return e0.StringSet;}
function e$(){ return e0.StringGet;}
function fa(){ return e0.StringListSet;}
function fb(){ return e0.StringListGet;}
function fc(){ return e0.DateTimeSetUnchecked;}
function fd(){ return e0.DateTimeGetUnchecked;}
function fe(fU, fV, fW){ let fX;fX=null;return[(fY) => { fY.addEventListener("change", () => { fW.UpdateMaybe((fZ) => { let f0;fX=fU(fY);return fX!=null&&fX.$==1&&(fX.$0!==fZ&&(f0=[fX, fX.$0],true))?f0[0]:null;});});}, (fY) => { const fZ=fV(fY);return(f0) => f0==null?null:fZ(f0.$0);}, c_((fY) => { let fZ;return fX!=null&&fX.$==1&&(u(fX.$0, fY)&&(fZ=fX.$0,true))?null:u0030(fY);}, fW.View)];}
function ff(){ return e0.FileSetUnchecked;}
function fg(){ return e0.FileGetUnchecked;}
function fh(){ return e0.IntSetUnchecked;}
function fi(){ return e0.IntGetUnchecked;}
function fj(){ return e0.IntSetChecked;}
function fk(){ return e0.IntGetChecked;}
function fl(){ return e0.FloatSetUnchecked;}
function fm(){ return e0.FloatGetUnchecked;}
function fn(){ return e0.FloatSetChecked;}
function fo(){ return e0.FloatGetChecked;}
function fp(){ return e0.StringApply;}
function fq(){ return e0.FloatApplyUnchecked;}
function fr(){ return e0.BoolCheckedApply;}
function fs(){ return e0.DateTimeApplyUnchecked;}
function ft(){ return e0.FileApplyUnchecked;}
function fu(){ return e0.StringListApply;}
function fv(fU){ return es(fC, fU);}
class fw { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fU){ return fS(fw, {$:2, $0:fU});} static Invalid(fU){ return fS(fw, {$:1, $0:fU});} static Valid(fU, fV){ return fS(fw, {$:0, $0:fU, $1:fV});} }
function fx(fU, fV){ let fW;if(fV!=null&&fV.$==1){ const fX=[];fW=fV.$0[0].nextSibling;while(fW!==fV.$0[1]){ fX.push(fW);fW=fW.nextSibling;} return fB(fX);} else { let fY=fU.childNodes.length;const fZ=fU.childNodes;let f0=bV(fY, (f1) => fZ[f1]);return fB(f0);} }
function fy(fU, fV){ const fW=fU.$0;return fB(bP((fX) => bT((fY) =>!(fX===fY), fW), fV.$0));}
function fz(fU, fV){ bM(fU, fV.$0);}
function fA(fU){ const fV=[];function fW(fX){ while(true){ if(fX!=null&&fX.$==2){ const fY=fX.$0;fX=fY.Current;} else if(fX!=null&&fX.$==1)return fV.push(fX.$0.El);else if(fX==null)return null;else if(fX!=null&&fX.$==5)return fV.push(fX.$0);else if(fX!=null&&fX.$==4)return fV.push(fX.$0.Text);else if(fX!=null&&fX.$==6){ const fZ=fX.$0.Els;return(((f2) =>(f3) => { bM(f2, f3);})((f2) => { if(f2==null||f2.constructor===Object)fW(f2);else fV.push(f2);}))(fZ);} else { const f0=fX.$1;const f1=fX.$0;fW(f1);fX=f0;} } } fW(fU.Children);return fB(ew(fV));}
function fB(fU){ return{$:0, $0:fU};}
function fC(fU){ return fU.match(new RegExp("\\s"))!==null;}
function fD(fU){ const fV=Date.parse(fU);return isNaN(fV)?null:u0030(fV);}
function fE(fU, fV, fW, fX){ const fY=+fU;const fZ=fY===fY-fY%1&&fY>=fV&&fY<=fW;if(fZ)fX.set(fY);return fZ;}
function fF(fU){ return fK(false, fU, fG);}
function fG(){ const fU=this.v();this.c=true;this.v=fU;this.f=fH;return fU;}
function fH(){ return this.v;}
let fI=fO((fU) => class fV { static { fI=fU(this);} static Empty;static { this.Empty={$:0};} });
function fJ(fU){ fU.splice(0, m(fU));}
function fK(fU, fV, fW){ return{c:fU, v:fV, f:fW};}
fT(() => { b();});
fL();

